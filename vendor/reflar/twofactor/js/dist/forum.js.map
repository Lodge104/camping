{"version":3,"sources":["webpack://@reflar/twofactor/webpack/bootstrap","webpack://@reflar/twofactor/external \"flarum.core.compat['app']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Button']\"","webpack://@reflar/twofactor/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Alert']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Modal']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['extend']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Switch']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/LogInModal']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['utils/ItemList']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['helpers/listItems']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Dropdown']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['Model']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/SettingsPage']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['models/User']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['helpers/icon']\"","webpack://@reflar/twofactor/./src/forum/components/LogInFactorModal.js","webpack://@reflar/twofactor/./src/forum/components/RecoveryModal.js","webpack://@reflar/twofactor/./src/forum/components/PhoneModal.js","webpack://@reflar/twofactor/./src/forum/components/Countries.js","webpack://@reflar/twofactor/./src/forum/components/AuthyModal.js","webpack://@reflar/twofactor/./src/forum/components/TwoFactorModal.js","webpack://@reflar/twofactor/./src/forum/components/OneTouchModal.js","webpack://@reflar/twofactor/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","LogInFactorModal","init","this","identification","props","data","password","remember","pageId","twoFactorCode","prop","$","getScript","mask","placeholder","className","title","app","translator","trans","content","user","type","style","id","oninput","withAttr","loading","onsubmit","e","preventDefault","toUpperCase","request","url","forum","attribute","method","twofactor","then","response","userId","alert","Alert","dismissible","children","redraw","window","location","reload","Modal","RecoveryModal","recoveries","split","map","recovery","isDismissible","modal","close","PhoneModal","phone","enabled","session","twofa_enabled","country","mcode","countryItems","items","ItemList","add","Dropdown","component","buttonClassName","menuClassName","label","active","Button","icon","onclick","show","TwoFactorModal","attributes","authy_enabled","AuthyModal","listItems","toArray","step","replace","errorHandler","onerror","code","alerts","successAlert","twillio_enabled","countryCode","secret","startComputation","google2fa_secret","endComputation","src","decodeURIComponent","Switch","state","onchange","OneTouchModal","verified","clock","setInterval","shouldCheck","LoadingIndicator","length","hide","clearInterval","initializers","User","Model","LogInModal","makeid","text","charAt","Math","floor","random","failure","parseInt","status","extend","SettingsPage"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/SettingsPage'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['helpers/icon'];","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\n\r\nexport default class LogInFactorModal extends Modal {\r\n  init() {\r\n    super.init();\r\n    this.identification = this.props.data.identification;\r\n\r\n    this.password = this.props.data.password;\r\n\r\n    this.remember = this.props.data.remember;\r\n\r\n    this.pageId = this.props.data.pageId;\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#code').mask('AAA-AAA', {\r\n        placeholder: '   -   ',\r\n      });\r\n    });\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.login_title');\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        {app.translator.trans('reflar-twofactor.forum.modal.2fa_help')}\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <div className=\"TwoFactor-input\">\r\n              <input\r\n                type=\"text\"\r\n                style=\"text-transform:uppercase\"\r\n                id=\"code\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n                placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n              />\r\n            </div>\r\n            <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n              {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n\r\n    this.twoFactorCode(this.twoFactorCode().toUpperCase());\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        data: {\r\n          identification: this.identification,\r\n          password: this.password,\r\n          remember: this.remember,\r\n          twofactor: this.twoFactorCode(),\r\n          pageId: this.pageId,\r\n        },\r\n      })\r\n      .then(response => {\r\n        if (response.userId === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            dismissible: false,\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          this.loading = false;\r\n          m.redraw();\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\n\r\nexport default class RecoveryModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.recoveries = this.props.data.split(',');\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <div className=\"TwoFactor-codes\">\r\n              <h1>{app.translator.trans('reflar-twofactor.forum.modal.recov_header')}</h1>\r\n              <h3>{app.translator.trans('reflar-twofactor.forum.modal.recov_help1')}</h3>\r\n              <h4>{app.translator.trans('reflar-twofactor.forum.modal.recov_help2')}</h4>\r\n              {this.recoveries.map(recovery => {\r\n                return <br />, <h3>{recovery}</h3>;\r\n              })}\r\n            </div>\r\n            <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n              {app.translator.trans('reflar-twofactor.forum.modal.close')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  isDismissible() {\r\n    return false;\r\n  }\r\n\r\n  onsubmit(e) {\r\n    app.modal.close();\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport AuthyModal from './AuthyModal';\r\nimport TwoFactorModal from './TwoFactorModal';\r\nimport RecoveryModal from './RecoveryModal';\r\nimport Countries from './Countries';\r\n\r\nexport default class PhoneModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.phone = m.prop('');\r\n\r\n    this.enabled = m.prop(app.session.user.twofa_enabled());\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#phone').mask('(000) 000-00000');\r\n      $('#code').mask('AAA-AAA', { placeholder: '   -   ' });\r\n    });\r\n\r\n    this.country = {\r\n      name: 'United States of America',\r\n      mcode: '+1',\r\n    };\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  countryItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'sort',\r\n      Dropdown.component({\r\n        buttonClassName: 'Button FormControl',\r\n        menuClassName: 'Country-Dropdown-actual',\r\n        label: this.country.name,\r\n        children: Countries().map(country => {\r\n          const active = this.country === country;\r\n\r\n          return Button.component({\r\n            children: country.name,\r\n            icon: active ? 'check' : true,\r\n            onclick: () => {\r\n              this.country = country;\r\n            },\r\n            active: active,\r\n          });\r\n        }),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <h2 style=\"text-align: center\">{app.translator.trans('reflar-twofactor.forum.modal.phone_heading')}</h2>\r\n            {this.enabled() !== 3\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new TwoFactorModal(this.user));\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stTOTP'),\r\n                })\r\n              : ''}\r\n            {app.forum.data.attributes.authy_enabled === '1'\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new AuthyModal());\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stAuthy'),\r\n                })\r\n              : ''}\r\n            <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n              {this.enabled() !== 3\r\n                ? app.translator.trans('reflar-twofactor.forum.modal.helpPhone')\r\n                : app.translator.trans('reflar-twofactor.forum.modal.helpPhone2')}\r\n            </div>\r\n          </div>\r\n          {this.enabled() !== 3 ? (\r\n            <div className=\"Form-group\">\r\n              <ul className=\"Country-dropdown\">{listItems(this.countryItems().toArray())}</ul>\r\n              <input type=\"text\" id=\"phone\" oninput={m.withAttr('value', this.phone)} className=\"FormControl Phone-Input\" />\r\n              {Button.component({\r\n                className: 'Button Button--primary',\r\n                onclick: () => {\r\n                  app.request({\r\n                    url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                    method: 'POST',\r\n                    data: {\r\n                      step: 3,\r\n                      phone: this.country.mcode + this.phone().replace(/[- )(]/g, ''),\r\n                    },\r\n                  });\r\n                  this.enabled(3);\r\n                  m.redraw();\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.submitPhone'),\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                onclick: () => {\r\n                  app\r\n                    .request({\r\n                      url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                      method: 'POST',\r\n                      data: {\r\n                        step: 1,\r\n                      },\r\n                      errorHandler: this.onerror.bind(this),\r\n                    })\r\n                    .then(() => {\r\n                      app.modal.close();\r\n                      app.modal.show(new TwoFactorModal(this.user));\r\n                    });\r\n\r\n                  this.loading = false;\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.back'),\r\n              })}\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                style=\"text-transform: uppercase;\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n              />\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                type: 'submit',\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.button'),\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 4,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","export default function LogInFactorModal() {\r\n  return [\r\n    { name: 'United States of America', mcode: '+1' },\r\n    { name: 'United Kingdom', mcode: '+44' },\r\n    { name: 'Algeria', mcode: '+213' },\r\n    { name: 'Andorra', mcode: '+376' },\r\n    { name: 'Angola', mcode: '+244' },\r\n    { name: 'Anguilla', mcode: '+1264' },\r\n    { name: 'Antigua & Barbuda', mcode: '+1268' },\r\n    { name: 'Argentina', mcode: '+54' },\r\n    { name: 'Armenia', mcode: '+374' },\r\n    { name: 'Aruba', mcode: '+297' },\r\n    { name: 'Australia', mcode: '+61' },\r\n    { name: 'Austria', mcode: '+43' },\r\n    { name: 'Azerbaijan', mcode: '+994' },\r\n    { name: 'Bahamas', mcode: '+1242' },\r\n    { name: 'Bahrain', mcode: '+973' },\r\n    { name: 'Bangladesh', mcode: '+880' },\r\n    { name: 'Barbados', mcode: '+1246' },\r\n    { name: 'Belarus', mcode: '+375' },\r\n    { name: 'Belgium', mcode: '+32' },\r\n    { name: 'Belize', mcode: '+501' },\r\n    { name: 'Benin', mcode: '+229' },\r\n    { name: 'Bermuda', mcode: '+1441' },\r\n    { name: 'Bhutan', mcode: '+975' },\r\n    { name: 'Bolivia', mcode: '+591' },\r\n    { name: 'Bosnia Herzegovina', mcode: '+387' },\r\n    { name: 'Botswana', mcode: '+267' },\r\n    { name: 'Brazil', mcode: '+55' },\r\n    { name: 'Brunei', mcode: '+673' },\r\n    { name: 'Bulgaria', mcode: '+359' },\r\n    { name: 'Burkina Faso', mcode: '+226' },\r\n    { name: 'Burundi', mcode: '+257' },\r\n    { name: 'Cambodia', mcode: '+855' },\r\n    { name: 'Cameroon', mcode: '+237' },\r\n    { name: 'Canada', mcode: '+1' },\r\n    { name: 'Cape Verde Islands', mcode: '+238' },\r\n    { name: 'Cayman Islands', mcode: '+1345' },\r\n    { name: 'Central African Republic', mcode: '+236' },\r\n    { name: 'Chile', mcode: '+56' },\r\n    { name: 'China', mcode: '+86' },\r\n    { name: 'Colombia', mcode: '+57' },\r\n    { name: 'Comoros', mcode: '+269' },\r\n    { name: 'Congo', mcode: '+242' },\r\n    { name: 'Cook Islands', mcode: '+682' },\r\n    { name: 'Costa Rica', mcode: '+506' },\r\n    { name: 'Croatia', mcode: '+385' },\r\n    { name: 'Cuba', mcode: '+53' },\r\n    { name: 'Cyprus - North', mcode: '+90' },\r\n    { name: 'Cyprus - South', mcode: '+357' },\r\n    { name: 'Czech Republic', mcode: '+420' },\r\n    { name: 'Denmark', mcode: '+45' },\r\n    { name: 'Djibouti', mcode: '+253' },\r\n    { name: 'Dominica', mcode: '+1809' },\r\n    { name: 'Dominican Republic', mcode: '+1809' },\r\n    { name: 'Ecuador', mcode: '+593' },\r\n    { name: 'Egypt', mcode: '+20' },\r\n    { name: 'El Salvador', mcode: '+503' },\r\n    { name: 'Equatorial Guinea', mcode: '+240' },\r\n    { name: 'Eritrea', mcode: '+291' },\r\n    { name: 'Estonia', mcode: '+372' },\r\n    { name: 'Ethiopia', mcode: '+251' },\r\n    { name: 'Falkland Islands', mcode: '+500' },\r\n    { name: 'Faroe Islands', mcode: '+298' },\r\n    { name: 'Fiji', mcode: '+679' },\r\n    { name: 'Finland', mcode: '+358' },\r\n    { name: 'France', mcode: '+33' },\r\n    { name: 'French Guiana', mcode: '+594' },\r\n    { name: 'French Polynesia', mcode: '+689' },\r\n    { name: 'Gabon', mcode: '+241' },\r\n    { name: 'Gambia', mcode: '+220' },\r\n    { name: 'Georgia', mcode: '+7880' },\r\n    { name: 'Germany', mcode: '+49' },\r\n    { name: 'Ghana', mcode: '+233' },\r\n    { name: 'Gibraltar', mcode: '+350' },\r\n    { name: 'Greece', mcode: '+30' },\r\n    { name: 'Greenland', mcode: '+299' },\r\n    { name: 'Grenada', mcode: '+1473' },\r\n    { name: 'Guadeloupe', mcode: '+590' },\r\n    { name: 'Guam', mcode: '+671' },\r\n    { name: 'Guatemala', mcode: '+502' },\r\n    { name: 'Guinea', mcode: '+224' },\r\n    { name: 'Guinea - Bissau', mcode: '+245' },\r\n    { name: 'Guyana', mcode: '+592' },\r\n    { name: 'Haiti', mcode: '+509' },\r\n    { name: 'Honduras', mcode: '+504' },\r\n    { name: 'Hong Kong', mcode: '+852' },\r\n    { name: 'Hungary', mcode: '+36' },\r\n    { name: 'Iceland', mcode: '+354' },\r\n    { name: 'India', mcode: '+91' },\r\n    { name: 'Indonesia', mcode: '+62' },\r\n    { name: 'Iraq', mcode: '+964' },\r\n    { name: 'Iran', mcode: '+98' },\r\n    { name: 'Ireland', mcode: '+353' },\r\n    { name: 'Israel', mcode: '+972' },\r\n    { name: 'Italy', mcode: '+39' },\r\n    { name: 'Jamaica', mcode: '+1876' },\r\n    { name: 'Japan', mcode: '+81' },\r\n    { name: 'Jordan', mcode: '+962' },\r\n    { name: 'Kazakhstan', mcode: '+7' },\r\n    { name: 'Kenya', mcode: '+254' },\r\n    { name: 'Kiribati', mcode: '+686' },\r\n    { name: 'Korea - North', mcode: '+850' },\r\n    { name: 'Korea - South', mcode: '+82' },\r\n    { name: 'Kuwait', mcode: '+965' },\r\n    { name: 'Kyrgyzstan', mcode: '+996' },\r\n    { name: 'Laos', mcode: '+856' },\r\n    { name: 'Latvia', mcode: '+371' },\r\n    { name: 'Lebanon', mcode: '+961' },\r\n    { name: 'Lesotho', mcode: '+266' },\r\n    { name: 'Liberia', mcode: '+231' },\r\n    { name: 'Libya', mcode: '+218' },\r\n    { name: 'Liechtenstein', mcode: '+417' },\r\n    { name: 'Lithuania', mcode: '+370' },\r\n    { name: 'Luxembourg', mcode: '+352' },\r\n    { name: 'Macao', mcode: '+853' },\r\n    { name: 'Macedonia', mcode: '+389' },\r\n    { name: 'Madagascar', mcode: '+261' },\r\n    { name: 'Malawi', mcode: '+265' },\r\n    { name: 'Malaysia', mcode: '+60' },\r\n    { name: 'Maldives', mcode: '+960' },\r\n    { name: 'Mali', mcode: '+223' },\r\n    { name: 'Malta', mcode: '+356' },\r\n    { name: 'Marshall Islands', mcode: '+692' },\r\n    { name: 'Martinique', mcode: '+596' },\r\n    { name: 'Mauritania', mcode: '+222' },\r\n    { name: 'Mayotte', mcode: '+269' },\r\n    { name: 'Mexico', mcode: '+52' },\r\n    { name: 'Micronesia', mcode: '+691' },\r\n    { name: 'Moldova', mcode: '+373' },\r\n    { name: 'Monaco', mcode: '+377' },\r\n    { name: 'Mongolia', mcode: '+976' },\r\n    { name: 'Montserrat', mcode: '+1664' },\r\n    { name: 'Morocco', mcode: '+212' },\r\n    { name: 'Mozambique', mcode: '+258' },\r\n    { name: 'Myanmar', mcode: '+95' },\r\n    { name: 'Namibia', mcode: '+264' },\r\n    { name: 'Nauru', mcode: '+674' },\r\n    { name: 'Nepal', mcode: '+977' },\r\n    { name: 'Netherlands', mcode: '+31' },\r\n    { name: 'New Caledonia', mcode: '+687' },\r\n    { name: 'New Zealand', mcode: '+64' },\r\n    { name: 'Nicaragua', mcode: '+505' },\r\n    { name: 'Niger', mcode: '+227' },\r\n    { name: 'Nigeria', mcode: '+234' },\r\n    { name: 'Niue', mcode: '+683' },\r\n    { name: 'Norfolk Islands', mcode: '+672' },\r\n    { name: 'Northern Marianas', mcode: '+670' },\r\n    { name: 'Norway', mcode: '+47' },\r\n    { name: 'Oman', mcode: '+968' },\r\n    { name: 'Pakistan', mcode: '+92' },\r\n    { name: 'Palau', mcode: '+680' },\r\n    { name: 'Panama', mcode: '+507' },\r\n    { name: 'Papua New Guinea', mcode: '+675' },\r\n    { name: 'Paraguay', mcode: '+595' },\r\n    { name: 'Peru', mcode: '+51' },\r\n    { name: 'Philippines', mcode: '+63' },\r\n    { name: 'Poland', mcode: '+48' },\r\n    { name: 'Portugal', mcode: '+351' },\r\n    { name: 'Puerto Rico', mcode: '+1787' },\r\n    { name: 'Qatar', mcode: '+974' },\r\n    { name: 'Reunion', mcode: '+262' },\r\n    { name: 'Romania', mcode: '+40' },\r\n    { name: 'Russia', mcode: '+7' },\r\n    { name: 'Rwanda', mcode: '+250' },\r\n    { name: 'San Marino', mcode: '+378' },\r\n    { name: 'Sao Tome & Principe', mcode: '+239' },\r\n    { name: 'Saudi Arabia', mcode: '+966' },\r\n    { name: 'Senegal', mcode: '+221' },\r\n    { name: 'Serbia', mcode: '+381' },\r\n    { name: 'Seychelles', mcode: '+248' },\r\n    { name: 'Sierra Leone', mcode: '+232' },\r\n    { name: 'Singapore', mcode: '+65' },\r\n    { name: 'Slovak Republic', mcode: '+421' },\r\n    { name: 'Slovenia', mcode: '+386' },\r\n    { name: 'Solomon Islands', mcode: '+677' },\r\n    { name: 'Somalia', mcode: '+252' },\r\n    { name: 'South Africa', mcode: '+27' },\r\n    { name: 'Spain', mcode: '+34' },\r\n    { name: 'Sri Lanka', mcode: '+94' },\r\n    { name: 'St. Helena', mcode: '+290' },\r\n    { name: 'St. Kitts', mcode: '+1869' },\r\n    { name: 'St. Lucia', mcode: '+1758' },\r\n    { name: 'Suriname', mcode: '+597' },\r\n    { name: 'Sudan', mcode: '+249' },\r\n    { name: 'Swaziland', mcode: '+268' },\r\n    { name: 'Sweden', mcode: '+46' },\r\n    { name: 'Switzerland', mcode: '+41' },\r\n    { name: 'Syria', mcode: '+963' },\r\n    { name: 'Taiwan', mcode: '+886' },\r\n    { name: 'Tajikistan', mcode: '+992' },\r\n    { name: 'Thailand', mcode: '+66' },\r\n    { name: 'Togo', mcode: '+228' },\r\n    { name: 'Tonga', mcode: '+676' },\r\n    { name: 'Trinidad & Tobago', mcode: '+1868' },\r\n    { name: 'Tunisia', mcode: '+216' },\r\n    { name: 'Turkey', mcode: '+90' },\r\n    { name: 'Turkmenistan', mcode: '+993' },\r\n    { name: 'Turks & Caicos Islands', mcode: '+1649' },\r\n    { name: 'Tuvalu', mcode: '+688' },\r\n    { name: 'Uganda', mcode: '+256' },\r\n    { name: 'Ukraine', mcode: '+380' },\r\n    { name: 'United Arab Emirates', mcode: '+971' },\r\n    { name: 'Uruguay', mcode: '+598' },\r\n    { name: 'Uzbekistan', mcode: '+998' },\r\n    { name: 'Vanuatu', mcode: '+678' },\r\n    { name: 'Vatican City', mcode: '+379' },\r\n    { name: 'Venezuela', mcode: '+58' },\r\n    { name: 'Vietnam', mcode: '+84' },\r\n    { name: 'Virgin Islands - British', mcode: '+1' },\r\n    { name: 'Virgin Islands - US', mcode: '+1' },\r\n    { name: 'Wallis & Futuna', mcode: '+681' },\r\n    { name: 'Yemen', mcode: 'North)(+969' },\r\n    { name: 'Yemen', mcode: 'South)(+967' },\r\n    { name: 'Zambia', mcode: '+260' },\r\n    { name: 'Zimbabwe', mcode: '+263' },\r\n  ];\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport TwoFactorModal from './TwoFactorModal';\r\nimport RecoveryModal from './RecoveryModal';\r\nimport Countries from './Countries';\r\nimport PhoneModal from './PhoneModal';\r\n\r\nexport default class AuthyModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.phone = m.prop('');\r\n\r\n    this.enabled = m.prop(app.session.user.twofa_enabled());\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#phone').mask('(000) 000-00000');\r\n      $('#code').mask('AAA-AAA', { placeholder: '   -   ' });\r\n    });\r\n\r\n    this.country = {\r\n      name: 'United States of America',\r\n      mcode: '+1',\r\n    };\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  countryItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'sort',\r\n      Dropdown.component({\r\n        buttonClassName: 'Button FormControl',\r\n        menuClassName: 'Country-Dropdown-actual',\r\n        label: this.country.name,\r\n        children: Countries().map(country => {\r\n          const active = this.country === country;\r\n\r\n          return Button.component({\r\n            children: country.name,\r\n            icon: active ? 'check' : true,\r\n            onclick: () => {\r\n              this.country = country;\r\n            },\r\n            active: active,\r\n          });\r\n        }),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <h2 style=\"text-align: center\">{app.translator.trans('reflar-twofactor.forum.modal.authy_heading')}</h2>\r\n            {app.forum.data.attributes.twillio_enabled === '1'\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new PhoneModal());\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stPhone'),\r\n                })\r\n              : ''}\r\n            {Button.component({\r\n              className: 'Button Button--primary Switch-button',\r\n              onclick: () => {\r\n                app.modal.close();\r\n                app.modal.show(new TwoFactorModal(this.user));\r\n              },\r\n              children: app.translator.trans('reflar-twofactor.forum.modal.stTOTP'),\r\n            })}\r\n            <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n              {this.enabled() !== 5\r\n                ? app.translator.trans('reflar-twofactor.forum.modal.helpAuthy')\r\n                : app.translator.trans('reflar-twofactor.forum.modal.helpAuthy2')}\r\n            </div>\r\n          </div>\r\n          {this.enabled() !== 5 ? (\r\n            <div className=\"Form-group\">\r\n              <ul className=\"Country-dropdown\">{listItems(this.countryItems().toArray())}</ul>\r\n              <input type=\"text\" id=\"phone\" oninput={m.withAttr('value', this.phone)} className=\"FormControl Phone-Input\" />\r\n              {Button.component({\r\n                className: 'Button Button--primary',\r\n                onclick: () => {\r\n                  app.request({\r\n                    url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                    method: 'POST',\r\n                    data: {\r\n                      step: 5,\r\n                      countryCode: this.country.mcode,\r\n                      phone: this.phone().replace(/[- )(]/g, ''),\r\n                    },\r\n                  });\r\n                  this.enabled(5);\r\n                  m.redraw();\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.otSetup'),\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                onclick: () => {\r\n                  app\r\n                    .request({\r\n                      url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                      method: 'POST',\r\n                      data: {\r\n                        step: 1,\r\n                      },\r\n                      errorHandler: this.onerror.bind(this),\r\n                    })\r\n                    .then(() => {\r\n                      app.modal.close();\r\n                      app.modal.show(new TwoFactorModal(this.user));\r\n                    });\r\n\r\n                  this.loading = false;\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.back'),\r\n              })}\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                style=\"text-transform: uppercase;\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n              />\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                type: 'submit',\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.button'),\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 6,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Switch from 'flarum/components/Switch';\r\nimport Button from 'flarum/components/Button';\r\nimport AuthyModal from './AuthyModal';\r\nimport PhoneModal from './PhoneModal';\r\nimport RecoveryModal from './RecoveryModal';\r\n\r\nexport default class TwoFactorModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.user = app.session.user;\r\n\r\n    this.enabled = m.prop(0);\r\n    this.secret = m.prop('');\r\n    this.url = m.prop('');\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#passcode').mask('000000');\r\n    });\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/getsecret',\r\n        method: 'GET',\r\n      })\r\n      .then(response => {\r\n        m.startComputation();\r\n        this.secret(response.data[0].attributes.data.google2fa_secret);\r\n        this.url(response.data[1].id);\r\n        this.enabled(response.data[0].attributes.data.twofa_enabled);\r\n        m.endComputation();\r\n      });\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  content(user) {\r\n    if (this.enabled() === 3) {\r\n      app.modal.show(new PhoneModal());\r\n    }\r\n    if (this.enabled() === 5) {\r\n      app.modal.show(new AuthyModal());\r\n    }\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.enabled() === 1 ? (\r\n            <div className=\"Form-group\">\r\n              <h2>{app.translator.trans('reflar-twofactor.forum.modal.2fa_heading')}</h2>\r\n              {app.forum.data.attributes.authy_enabled === '1'\r\n                ? Button.component({\r\n                    className: 'Button Button--primary Switch-button',\r\n                    onclick: () => {\r\n                      app.modal.close();\r\n                      app.modal.show(new AuthyModal());\r\n                    },\r\n                    children: app.translator.trans('reflar-twofactor.forum.modal.stAuthy'),\r\n                  })\r\n                : ''}\r\n              {app.forum.data.attributes.twillio_enabled === '1'\r\n                ? Button.component({\r\n                    className: 'Button Button--primary Switch-button',\r\n                    onclick: () => {\r\n                      app.modal.close();\r\n                      app.modal.show(new PhoneModal());\r\n                    },\r\n                    children: app.translator.trans('reflar-twofactor.forum.modal.stPhone'),\r\n                  })\r\n                : ''}\r\n              <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n                {app.translator.trans('reflar-twofactor.forum.modal.helpQR')}\r\n              </div>\r\n              <div className=\"TwoFactor-img Submit-Button\">\r\n                <img src={decodeURIComponent(this.url())} />\r\n                <h3>{this.secret()}</h3>\r\n              </div>\r\n              <div className=\"TwoFactor-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"passcode\"\r\n                  oninput={m.withAttr('value', this.twoFactorCode)}\r\n                  className=\"FormControl\"\r\n                  placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n                />\r\n              </div>\r\n              <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n                {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {this.enabled() !== 1 && this.enabled() !== 3 ? (\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('reflar-twofactor.forum.modal.heading')}</label>\r\n              <div>\r\n                {Switch.component({\r\n                  state: this.enabled() === 0 ? false : !(this.enabled() % 2),\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.switch'),\r\n                  className: 'TwoFactor-switch',\r\n                  onchange: value => {\r\n                    app\r\n                      .request({\r\n                        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                        method: 'POST',\r\n                        data: {\r\n                          step: value,\r\n                        },\r\n                      })\r\n                      .then(response => {\r\n                        this.enabled(+value);\r\n                        app\r\n                          .request({\r\n                            url: app.forum.attribute('apiUrl') + '/twofactor/getsecret',\r\n                            method: 'GET',\r\n                          })\r\n                          .then(response => {\r\n                            this.secret(response.data[0].attributes.data.google2fa_secret);\r\n                            this.url(response.data[1].id);\r\n                            m.redraw();\r\n                          });\r\n                      });\r\n                  },\r\n                })}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n\r\n    this.alert = null;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 2,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","import Alert from 'flarum/components/Alert';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\nimport icon from 'flarum/helpers/icon';\r\n\r\nexport default class OneTouchModal extends Modal {\r\n  init() {\r\n    this.identification = this.props.data.identification;\r\n\r\n    this.password = this.props.data.password;\r\n\r\n    this.remember = this.props.data.remember;\r\n\r\n    this.pageId = this.props.data.pageId;\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.verified = false;\r\n\r\n    this.code = m.prop(false);\r\n\r\n    this.clock = window.setInterval(() => {\r\n      if (!this.shouldCheck) {\r\n        this.shouldCheck = true;\r\n        app\r\n          .request({\r\n            url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n            method: 'POST',\r\n            data: {\r\n              identification: this.identification,\r\n              password: this.password,\r\n              remember: this.remember,\r\n              pageId: this.pageId,\r\n            },\r\n          })\r\n          .then(response => {\r\n            if (response.userId === 'IncorrectOneCode') {\r\n              this.shouldCheck = false;\r\n            } else {\r\n              this.verified = true;\r\n              m.redraw();\r\n              window.location.reload();\r\n            }\r\n          });\r\n      }\r\n    }, 3000);\r\n  }\r\n\r\n  className() {\r\n    return 'OneTouchModal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.oneTouchTitle');\r\n  }\r\n\r\n  content() {\r\n    if (this.verified) {\r\n      return (\r\n        <div className=\"Modal-body TwoFactor-approved\">\r\n          <h1 className=\"TwoFactor-title\">{app.translator.trans('reflar-twofactor.forum.modal.oneTouchHeaderVerified')}</h1>\r\n          <div className=\"TwoFactor-icon\">{icon('fas fa-check')}</div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <h2 className=\"TwoFactor-title\">\r\n          {this.code()\r\n            ? app.translator.trans('reflar-twofactor.forum.modal.oneTouchCodeHeader')\r\n            : app.translator.trans('reflar-twofactor.forum.modal.oneTouchHeader')}\r\n        </h2>\r\n        <div id=\"spinner\">{LoadingIndicator.component({ style: 'transform: scale(1.5);' })}</div>\r\n        {this.code()\r\n          ? [\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl TwoFactor-oneTime\"\r\n                placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n              />,\r\n              <Button\r\n                className={'Button Button--primary TwoFactor-inputButton' + (this.twoFactorCode().length > 5 ? '' : ' disabled')}\r\n                loading={this.loading}\r\n                type=\"submit\"\r\n              >\r\n                {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n              </Button>,\r\n            ]\r\n          : Button.component({\r\n              className: 'Button Button--primary TwoFactor-oneButton',\r\n              id: 'showInput',\r\n              onclick: () => {\r\n                this.code(true);\r\n                m.redraw();\r\n                $('#spinner').hide();\r\n                window.clearInterval(this.clock);\r\n              },\r\n              children: app.translator.trans('reflar-twofactor.forum.modal.useACode'),\r\n            })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.twoFactorCode(this.twoFactorCode().toUpperCase());\r\n\r\n    this.loading = true;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        data: {\r\n          identification: this.identification,\r\n          password: this.password,\r\n          remember: this.remember,\r\n          twofactor: this.twoFactorCode(),\r\n          pageId: this.pageId,\r\n        },\r\n      })\r\n      .then(response => {\r\n        if (response.userId === 'IncorrectOneCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            dismissible: false,\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          this.loading = false;\r\n          m.redraw();\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { extend } from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport Button from 'flarum/components/Button';\r\nimport LogInFactorModal from './components/LogInFactorModal';\r\nimport LogInModal from 'flarum/components/LogInModal';\r\nimport Model from 'flarum/Model';\r\nimport SettingsPage from 'flarum/components/SettingsPage';\r\nimport TwoFactorModal from './components/TwoFactorModal';\r\nimport User from 'flarum/models/User';\r\nimport OneTouchModal from './components/OneTouchModal';\r\n\r\napp.initializers.add('reflar-twofactor', () => {\r\n  User.prototype.twofa_enabled = Model.attribute('twofa-enabled');\r\n\r\n  LogInModal.prototype.init = function() {\r\n    this.identification = m.prop(this.props.identification || '');\r\n\r\n    this.password = m.prop(this.props.password || '');\r\n\r\n    this.remember = m.prop(this.props.remember && true);\r\n\r\n    this.pageId = this.makeid();\r\n  };\r\n\r\n  LogInModal.prototype.makeid = function() {\r\n    var text = '';\r\n    var possible = '0123456789';\r\n\r\n    for (var i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n    return text;\r\n  };\r\n\r\n  LogInModal.prototype.onsubmit = function(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    const identification = this.identification();\r\n    const password = this.password();\r\n    const remember = this.remember();\r\n    const pageId = this.pageId;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        errorHandler: this.failure.bind(this),\r\n        data: { identification, password, remember, pageId },\r\n      })\r\n      .then(response => {\r\n        let data = {\r\n          identification: this.identification(),\r\n          password: this.password(),\r\n          remember: this.remember(),\r\n          pageId: this.pageId,\r\n        };\r\n        if (response.userId === 'IncorrectCode') {\r\n          app.modal.show(new LogInFactorModal({ data }));\r\n        } else if (response.userId === 'IncorrectOneCode') {\r\n          app.modal.show(new OneTouchModal({ data }));\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  };\r\n\r\n  LogInModal.prototype.failure = function(response) {\r\n    if (parseInt(response.status) === 403) {\r\n      this.alert = new Alert({\r\n        type: 'error',\r\n        dismissible: false,\r\n        children: app.translator.trans('core.forum.log_in.invalid_login_message'),\r\n      });\r\n      this.loading = false;\r\n      m.redraw();\r\n    }\r\n  };\r\n\r\n  extend(SettingsPage.prototype, 'accountItems', items => {\r\n    items.add(\r\n      '2 Factor',\r\n      Button.component(\r\n        {\r\n          className: 'Button',\r\n          onclick: () => {\r\n            app.modal.show(new TwoFactorModal());\r\n          },\r\n        },\r\n        [app.translator.trans('reflar-twofactor.forum.accountlabel')]\r\n      ),\r\n      1\r\n    );\r\n  });\r\n});\r\n"],"sourceRoot":""}